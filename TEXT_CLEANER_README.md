# Скрипт очистки текста от невидимых символов Unicode

## Описание

`text_cleaner.py` - это Python-скрипт для удаления "цифровых водяных знаков" и невидимых символов Unicode из текстовых файлов. Эти символы часто добавляются системами искусственного интеллекта и могут мешать корректной обработке текста.

## Поддерживаемые форматы

- `.txt` - текстовые файлы
- `.docx` - документы Microsoft Word

## Очищаемые символы

Скрипт находит и заменяет следующие символы:

| Символ | Unicode | Описание | Замена |
|--------|---------|----------|--------|
| Неразрывный пробел | `U+00A0` | Пробел, который не разрывается при переносе | Обычный пробел |
| Узкий неразрывный пробел | `U+202F` | Узкая версия неразрывного пробела | Обычный пробел |
| Пробел нулевой ширины | `U+200B` | Невидимый символ нулевой ширины | Удаляется |
| Мягкий перенос | `U+00AD` | Невидимая подсказка для переноса слова | Удаляется |
| Правый одинарный апостроф | `U+2019` | Типографский апостроф | Обычный апостроф `'` |

## Установка

### 1. Клонируйте репозиторий или скачайте скрипт

```bash
git clone <ссылка-на-репозиторий>
cd asteroid_game_py
```

### 2. Установите зависимости

```bash
pip install -r requirements.txt
```

Или установите только необходимые для скрипта библиотеки:

```bash
pip install python-docx
```

**Примечание:** Для работы с `.txt` файлами дополнительные библиотеки не требуются.

## Использование

### Базовое использование

```bash
python text_cleaner.py input.txt
```

Это создаст файл `input_cleaned.txt` с очищенным текстом.

### Указание выходного файла

```bash
python text_cleaner.py input.txt -o output.txt
```

### Перезапись исходного файла

```bash
python text_cleaner.py input.txt --overwrite
```

**⚠️ Внимание:** Опция `--overwrite` перезапишет исходный файл без возможности восстановления!

### Работа с документами Word

```bash
python text_cleaner.py document.docx -o cleaned_document.docx
```

### Примеры использования

#### Пример 1: Очистка текстового файла

```bash
python text_cleaner.py article.txt
# Результат: article_cleaned.txt
```

#### Пример 2: Очистка с сохранением в конкретный файл

```bash
python text_cleaner.py draft.txt -o final.txt
# Результат: final.txt
```

#### Пример 3: Очистка документа Word

```bash
python text_cleaner.py report.docx -o report_clean.docx
# Результат: report_clean.docx
```

#### Пример 4: Перезапись исходного файла

```bash
python text_cleaner.py notes.txt --overwrite
# Исходный файл notes.txt будет перезаписан
```

## Справка по командам

Для получения полной справки используйте:

```bash
python text_cleaner.py --help
```

Вывод команды:

```
usage: text_cleaner.py [-h] [-o OUTPUT_FILE] [--overwrite] [--version] input_file

Очистка текста от цифровых водяных знаков ИИ (невидимых символов Unicode)

positional arguments:
  input_file            Путь к исходному файлу (.txt или .docx)

optional arguments:
  -h, --help            show this help message and exit
  -o OUTPUT_FILE, --output OUTPUT_FILE
                        Путь к выходному файлу (по умолчанию: <имя>_cleaned.<расширение>)
  --overwrite           Перезаписать исходный файл вместо создания нового
  --version             show program's version number and exit
```

## Особенности

### Автоматическое определение кодировки

Скрипт автоматически пытается определить кодировку входного `.txt` файла, пробуя следующие варианты:
- UTF-8
- Windows-1251 (CP1251)
- Latin-1

### Сохранение форматирования в Word

При обработке `.docx` файлов скрипт:
- Сохраняет все форматирование текста (жирный, курсив, цвет и т.д.)
- Обрабатывает текст в таблицах
- Сохраняет структуру документа

### Безопасность

- Скрипт не модифицирует исходный файл, если не указана опция `--overwrite`
- Все изменения сохраняются в новый файл
- Выходной файл всегда сохраняется в кодировке UTF-8 для `.txt` файлов

## Технические требования

- Python 3.6 или выше
- Библиотека `python-docx` (только для работы с `.docx` файлами)

## Устранение проблем

### Ошибка: "Библиотека python-docx не установлена"

**Решение:** Установите библиотеку командой:

```bash
pip install python-docx
```

### Ошибка: "Файл не найден"

**Решение:** Проверьте правильность пути к файлу. Используйте абсолютный путь или убедитесь, что файл находится в текущей директории.

### Ошибка: "Неподдерживаемый формат файла"

**Решение:** Скрипт поддерживает только `.txt` и `.docx` файлы. Для других форматов сначала конвертируйте файл.

## Лицензия

Этот скрипт является частью проекта Asteroid Game и распространяется под той же лицензией.

## Автор

Создано в рамках проекта Asteroid Game

## Версия

Текущая версия: 1.0
